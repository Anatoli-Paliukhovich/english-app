import{u as g,j as e,b as k,r as h,c as R,s as M,d as L,e as m,f as j,g as y,S as T,h as S}from"./index-mfjlsVZZ.js";const q="_tests_14ksr_3",F="_tests__body_14ksr_6",A="_tests__item_14ksr_13",G="_item__icon_14ksr_33",I="_item__info_14ksr_39",O="_item__title_14ksr_44",B="_item__img_14ksr_60",r={tests:q,tests__body:F,tests__item:A,item__icon:G,item__info:I,item__title:O,item__img:B},D="_popup_y8ce8_3",Q="_open_y8ce8_15",P="_popup__body_y8ce8_19",V="_popup__content_y8ce8_26",Y="_popup__close_y8ce8_44",z="_popup__title_y8ce8_59",H="_popup__question_y8ce8_65",U="_popup__list_y8ce8_68",J="_popup__item_y8ce8_73",K="_correct_y8ce8_83",W="_incorrect_y8ce8_87",X="_popup__bottom_y8ce8_91",ee="_popup__result_y8ce8_96",se="_popup__score_y8ce8_103",te="_btn_y8ce8_110",t={popup:D,open:Q,popup__body:P,popup__content:V,popup__close:Y,popup__title:z,popup__question:H,popup__list:U,popup__item:J,correct:K,incorrect:W,popup__bottom:X,popup__result:ee,popup__score:se,btn:te},oe="_btn_1jt6a_3",ce="_btn_dsl_1jt6a_3",C={btn:oe,btn_dsl:ce};function v({children:p,onClick:o}){const{lock:i,result:l}=g(n=>n.tests);return e.jsx(e.Fragment,{children:e.jsx("button",{onClick:o,className:`${i||l?C.btn:C.btn_dsl}`,children:p})})}const _e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%20-0.5%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.96967%2016.4697C6.67678%2016.7626%206.67678%2017.2374%206.96967%2017.5303C7.26256%2017.8232%207.73744%2017.8232%208.03033%2017.5303L6.96967%2016.4697ZM13.0303%2012.5303C13.3232%2012.2374%2013.3232%2011.7626%2013.0303%2011.4697C12.7374%2011.1768%2012.2626%2011.1768%2011.9697%2011.4697L13.0303%2012.5303ZM11.9697%2011.4697C11.6768%2011.7626%2011.6768%2012.2374%2011.9697%2012.5303C12.2626%2012.8232%2012.7374%2012.8232%2013.0303%2012.5303L11.9697%2011.4697ZM18.0303%207.53033C18.3232%207.23744%2018.3232%206.76256%2018.0303%206.46967C17.7374%206.17678%2017.2626%206.17678%2016.9697%206.46967L18.0303%207.53033ZM13.0303%2011.4697C12.7374%2011.1768%2012.2626%2011.1768%2011.9697%2011.4697C11.6768%2011.7626%2011.6768%2012.2374%2011.9697%2012.5303L13.0303%2011.4697ZM16.9697%2017.5303C17.2626%2017.8232%2017.7374%2017.8232%2018.0303%2017.5303C18.3232%2017.2374%2018.3232%2016.7626%2018.0303%2016.4697L16.9697%2017.5303ZM11.9697%2012.5303C12.2626%2012.8232%2012.7374%2012.8232%2013.0303%2012.5303C13.3232%2012.2374%2013.3232%2011.7626%2013.0303%2011.4697L11.9697%2012.5303ZM8.03033%206.46967C7.73744%206.17678%207.26256%206.17678%206.96967%206.46967C6.67678%206.76256%206.67678%207.23744%206.96967%207.53033L8.03033%206.46967ZM8.03033%2017.5303L13.0303%2012.5303L11.9697%2011.4697L6.96967%2016.4697L8.03033%2017.5303ZM13.0303%2012.5303L18.0303%207.53033L16.9697%206.46967L11.9697%2011.4697L13.0303%2012.5303ZM11.9697%2012.5303L16.9697%2017.5303L18.0303%2016.4697L13.0303%2011.4697L11.9697%2012.5303ZM13.0303%2011.4697L8.03033%206.46967L6.96967%207.53033L11.9697%2012.5303L13.0303%2011.4697Z'%20fill='rgb(64,%2063,%2061)'/%3e%3c/svg%3e";function ne(){const{isOpen:p,index:o,currentTest:i,lock:l,score:n,result:x}=g(_=>_.tests),c=i.quiz,s=k(),Z=document.getElementById("modal"),u=h.useRef([]);h.useEffect(()=>{u.current=u.current.slice(0,c==null?void 0:c[o].answers.length)},[o,c]);const $=(_,f)=>{const a=_.target,E=a.textContent;if(!l){if(E===f)a.classList.add(`${t.correct}`),s(L(d=>d+1));else{a.classList.add(`${t.incorrect}`);const d=c[o].answers.indexOf(f);d!==-1&&u.current[d]&&u.current[d].classList.add(`${t.correct}`)}s(m(!0))}},b=()=>{if(l&&(o<c.length-1?(s(j(o+1)),s(m(!1)),u.current.forEach(_=>{_==null||_.classList.remove(`${t.incorrect}`),_==null||_.classList.remove(`${t.correct}`)})):(s(m(!1)),setTimeout(()=>{s(j(0))},1e3)),o===c.length-1))return s(y(!0)),0},w=()=>{s(j(0)),s(m(!1)),s(y(!1)),s(L(()=>0))};return R.createPortal(e.jsx("div",{className:`${t.popup} ${p?t.open:""}`,children:e.jsx("div",{className:t.popup__body,children:e.jsxs("div",{className:t.popup__content,children:[e.jsx("div",{className:t.popup__close,onClick:()=>{s(M(!1)),b()},children:e.jsx("img",{src:_e,alt:"cross"})}),e.jsx("div",{className:t.popup__title,children:i.title}),e.jsx(e.Fragment,{children:x?e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.popup__result,children:[e.jsxs("div",{className:t.popup__score,children:["Your Score: ",n," out of ",c.length," questions"]}),e.jsx(v,{onClick:w,children:"Try Again"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:t.popup__question,children:[o+1,". ",c[o].question]}),e.jsx("ul",{className:t.popup__list,children:c[o].answers.map((_,f)=>e.jsx("li",{ref:a=>u.current[f]=a,onClick:a=>$(a,c[o].answerR),className:t.popup__item,children:_},_))}),e.jsx(v,{onClick:b,children:o===c.length-1&&l?"Finish":"Next"}),e.jsxs("div",{className:t.popup__bottom,children:[o+1," of ",c.length," questions"]})]})})]})})}),Z)}function ie(){const{isOpen:p,testData:o}=g(s=>s.tests),{searchQuery:i,value:l}=g(s=>s.search),n=k(),x=h.useRef(null),c=o.filter(s=>s.title.toLowerCase().includes(i.toLowerCase())||s.description.toLowerCase().includes(i.toLowerCase()));return h.useEffect(()=>{var s;(s=x.current)==null||s.focus()},[l,i]),h.useEffect(()=>{const s=document.body;p?s.classList.add("lock"):p||s.classList.remove("lock")},[p]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:r.tests,children:e.jsxs("div",{className:r.tests__container,children:[e.jsx(T,{ref:x}),e.jsx("div",{className:r.tests__body,children:c.map(s=>e.jsxs("div",{className:r.tests__item,onClick:()=>{n(S(s)),n(M(!0)),n(j(0)),n(m(!1)),n(L(()=>0)),n(y(!1))},children:[e.jsx("div",{className:r.item__info,children:s.description}),e.jsx("h3",{className:r.item__title,children:s.title}),e.jsx("span",{className:r.item__icon,children:"â˜›"}),e.jsx("img",{src:s.url,alt:s.title,className:r.item__img})]},s.id))})]})}),e.jsx(ne,{})]})}const re="_test__page_1r9bt_3",pe="_test__container_1r9bt_7",N={test__page:re,test__container:pe};function ae(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:N.test__page,children:e.jsxs("div",{className:N.test__container,children:[e.jsxs("h2",{className:"_title",children:["Grammar ",e.jsx("span",{className:"_title-decor",children:"Quiz Zone"}),": Test Your",e.jsx("span",{className:"_title-decor",children:" English Skills"})," Here!"]}),e.jsx(ie,{})]})})})}export{ae as default};
